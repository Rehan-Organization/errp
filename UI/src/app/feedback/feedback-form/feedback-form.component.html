<ion-header class="abs-menu-header">
    <ion-toolbar color="primary">
        <ion-buttons slot="start">
            <ion-back-button></ion-back-button>
        </ion-buttons>
    </ion-toolbar>
</ion-header>
<ion-content>
    <ion-card>
        <ion-card-header>
            <ion-card-title *ngIf="updateFeedbackId == null">Add Feedback</ion-card-title>
            <ion-card-title *ngIf="updateFeedbackId != null">Update Feedback</ion-card-title>
        </ion-card-header>
        <ion-card-content>
            <ion-list>
                <ion-item fill="outline" *ngIf="updateFeedbackId == null">
                    <ion-label position="stacked">Select Reportee</ion-label>
                    <ion-select interface="popover" [(ngModel)]="selectedFeedbackId">
                        <ion-select-option *ngFor="let reportee of reportees" [value]="reportee.employeeId">
                            {{ reportee.employeeName }}
                        </ion-select-option>
                    </ion-select>
                </ion-item>

                <ion-item fill="outline">
                    <ion-label position="floating">Title</ion-label>
                    <ion-input placeholder="Enter title" [(ngModel)]="newFeedback.title" required name="title">
                    </ion-input>
                </ion-item>

                <ion-item fill="outline">
                    <ion-label position="floating">Description</ion-label>
                    <ion-textarea
                        auto-grow="true"
                        placeholder="Enter description"
                        [(ngModel)]="newFeedback.description"
                    ></ion-textarea>
                </ion-item>
            </ion-list>
            <ion-button
                *ngIf="updateFeedbackId == null"
                color="primary"
                class="ion-float-right"
                (click)="addFeedback(newFeedback)"
                ><i class="far fa-paper-plane" aria-hidden="true"></i>
                Submit
            </ion-button>
            <ion-button
                *ngIf="updateFeedbackId != null"
                color="primary"
                class="ion-float-right"
                (click)="updateFeedback()"
            >
                <i class="far fa-pencil" aria-hidden="true"></i> Update
            </ion-button>
            <ion-button fill="clear" class="ion-float-right" (click)="cancelForm()"
                ><i class="far fa-times" aria-hidden="true"></i>Cancel</ion-button
            >
        </ion-card-content>
    </ion-card>
</ion-content>
